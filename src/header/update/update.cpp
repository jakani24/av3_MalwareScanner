#ifndef UPDATE_CPP
#define UPDATE_CPP
#include "../os.h"
#include "update.h"
#include <iostream>
#include <cstring>

int donwload_preindexed_files()
{	
	char buf[500];
	char files[]="abcdef0123456789";
	for(int i=0;i<strlen(files);i++)
	{
		for(int c=0;c<strlen(files);c++)
		{
			#ifdef os_win
			sprintf(buf,"curl http://jakach.duckdns.org:441/server/%c%c.jdbf -o c:\\programdata\\jakach\\se\\hashes\\%c%c.jdbf -s",files[i],files[c],files[i],files[c]);
			#endif
			#ifdef os_linux
			//fÃ¼r lokal auf raspi mit 192.168.27.15 arbeiten, da duckdns adresse u localhost weitergeleitet wird :(
			sprintf(buf,"curl http://jakach.duckdns.org:441/server/%c%c.jdbf -o /etc/jakach/%c%c.jdbf -s",files[i],files[c],files[i],files[c]);
			#endif
			printf("downloading file %c%c = %.1f%% \n",files[i],files[c],(float)100/strlen(files)*i);
			system(buf);
		}
	}

	printf("done 100%%\n");		
	return 0;
}
#endif